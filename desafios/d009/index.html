<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Desafio 09</title>
        <style>
            body {
                font-family: Arial, Helvetica, sans-serif;
            }

            input {
                padding: 20px 30px;
                border-radius: 0px;
                border: 2px solid #c6c6ce;
                font-size: 1em;
            }
        </style>
    </head>
    <body>
        <h1>Reajuste Salarial</h1>
        <input type="submit" value="Calcular Reajuste" id="botao">
        <section><p>Clique no botão acima para iniciar.</p></section>
        <script>
            var button = document.getElementById('botao');
            var txt = document.getElementsByTagName('section')[0];

            button.addEventListener('click', clicar);

            function clicar() {
                var name = prompt('Qual é o nome do(a) funcionário(a) que vai receber o reajuste salarial?');
                var sAtual = prompt(`Qual é o salário atual de ${name}?`);
                var maisoumenos = prompt('O salário será aumentado ou diminuído? Digite 1 para aumentado e 2 para diminuído.');

                while (maisoumenos != 1 && maisoumenos != 2) {
                    alert('Você deve escolher especificamente 1 ou 2.');
                    maisoumenos = prompt('O salário será aumentado ou diminuído? Digite 1 para aumentado e 2 para diminuído.')
                }
                if (maisoumenos == 1) {
                    var reajuste = prompt(`O salário de ${name} será reajustado em qual porcentagem?`);
                    while (isNaN(reajuste)) {
                        alert('Digite apenas um valor numérico, sem o símbolo de porcentagem.');
                        reajuste = prompt(`O salário de ${name} será reajustado em qual porcentagem?`);
                    }
                    reajuste = Number(reajuste);
                    sAtual = Number(sAtual);

                    var reajusteR$ = sAtual * (reajuste / 100);
                    reajusteR$ = Number(reajusteR$);

                    var sReajustado = sAtual + reajusteR$;
                    sReajustado = Number(sReajustado);

                    sAtual = sAtual.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'});
                    reajusteR$ = reajusteR$.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'});
                    sReajustado = sReajustado.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'});

                    txt.innerHTML = `<p>O salário atual era de ${sAtual}.</p>
                    <p>Com um aumento de ${reajuste}%, o salário vai aumentar em ${reajusteR$} no próximo mês.</p>
                    <p>E, a partir daí, ${name} vai passar a ganhar ${sReajustado}.</p>`
                } 
                
                else if (maisoumenos == 2) {
                    var reajuste = prompt(`O salário de ${name} será reajustado em qual porcentagem?`);
                    while (isNaN(reajuste)) {
                        alert('Digite apenas um valor numérico, sem o símbolo de porcentagem.');
                        reajuste = prompt(`O salário de ${name} será reajustado em qual porcentagem?`);
                    }
                    reajuste = Number(reajuste);
                    sAtual = Number(sAtual);

                    var reajusteR$ = sAtual * (reajuste / 100);
                    reajusteR$ = Number(reajusteR$);

                    var sReajustado = sAtual - reajusteR$;
                    sReajustado = Number(sReajustado);

                    sAtual = sAtual.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'});
                    reajusteR$ = reajusteR$.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'});
                    sReajustado = sReajustado.toLocaleString('pt-BR', {style: 'currency', currency: 'BRL'});

                    txt.innerHTML = `<p>O salário atual era de ${sAtual}.</p>
                    <p>Com um descréscimo de ${reajuste}%, o salário vai diminuir em ${reajusteR$} no próximo mês.</p>
                    <p>E, a partir daí, ${name} vai passar a ganhar ${sReajustado}.</p>`
                }
            }
        </script>
    </body>
</html>